{"ast":null,"code":"var _jsxFileName = \"/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetailTotalPrice.jsx\";\nimport React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport { withRouter, Link, Redirect } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { store, actions } from '../store';\nimport axios from 'axios';\n\nclass CartDetailTotalPrice extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      const req = {\n        method: \"get\",\n        url: store.getState().baseUrl + \"/cart/total\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      const self = this;\n      axios(req).then(function (response) {\n        store.setState({\n          \"totalPrice\": response.data,\n          'disable': true\n        });\n        return response;\n      }).catch(error => {\n        store.setState({\n          isLoading: false\n        });\n\n        switch (error.response.status) {\n          case 401:\n            self.props.history.push('/401');\n            break;\n\n          case 403:\n            self.props.history.push('/403');\n            break;\n\n          case 404:\n            self.props.history.push('/404');\n            break;\n\n          case 422:\n            self.props.history.push('/login');\n            break;\n\n          case 500:\n            self.props.history.push('/500');\n            break;\n\n          default:\n            break;\n        }\n      });\n    };\n\n    this.resetCart = async () => {\n      this.componentDidMount();\n    };\n  }\n\n  render() {\n    if (store.getState().lengthCart === 0) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: \"/cart\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    }\n\n    if (this.props.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"body\", {\n        style: {\n          paddingTop: '200px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })))));\n    }\n\n    if (store.getState().bookEmptyStock.length > 0) {\n      return React.createElement(\"div\", {\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalCenterTitle\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-dialog modal-dialog-centered\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-header\",\n        style: {\n          backgroundColor: 'teal',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        class: \"modal-title\",\n        id: \"exampleModalLongTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Stok buku ini tidak mencukupi.\"), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.resetCart,\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\xD7\"))), store.getState().bookEmptyStock.map((item, i) => React.createElement(\"div\", {\n        class: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, i + 1, \". \", item)))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container top-body-cart5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      style: {\n        backgroundColor: 'aliceblue',\n        borderRadius: '5%',\n        marginBottom: '250px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        paddingTop: '25px',\n        paddingLeft: '23px',\n        paddingRight: '23px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Subtotal\"), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Rp \", this.props.totalPrice)), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      style: {\n        paddingTop: '55px',\n        marginBottom: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/expedition\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-success\",\n      disabled: this.props.disable,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Lanjutkan Pembelian\"))))))));\n  }\n\n}\n\nexport default connect(\"carts, totalPrice, token, isLoading, disable\", actions)(withRouter(CartDetailTotalPrice));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetailTotalPrice.jsx"],"names":["React","withRouter","Link","Redirect","connect","store","actions","axios","CartDetailTotalPrice","Component","componentDidMount","req","method","url","getState","baseUrl","headers","Authorization","localStorage","getItem","self","then","response","setState","data","catch","error","isLoading","status","props","history","push","resetCart","render","lengthCart","pathname","paddingTop","bookEmptyStock","length","backgroundColor","color","map","item","i","borderRadius","marginBottom","paddingLeft","paddingRight","totalPrice","disable"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport { withRouter, Link, Redirect } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { store, actions } from '../store';\nimport axios from 'axios';\n\nclass CartDetailTotalPrice extends React.Component {\n  // Function to display total price inside the cart\n  componentDidMount = () => {\n      const req = {\n          method: \"get\",\n          url: store.getState().baseUrl+\"/cart/total\",\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem('token')\n          }\n        };\n        const self =this\n        axios(req)\n            .then(function(response) {\n              store.setState({\n                \"totalPrice\": response.data,\n                'disable': true\n              })\n              return response\n            })\n            .catch(error => {\n              store.setState({ isLoading: false})\n              switch (error.response.status) {\n                case 401 :\n                    self.props.history.push('/401')\n                    break\n                case 403 :\n                    self.props.history.push('/403')\n                    break\n                case 404 :\n                    self.props.history.push('/404')\n                    break\n                case 422 :\n                    self.props.history.push('/login')\n                    break\n                case 500 :\n                    self.props.history.push('/500')\n                    break\n                default :\n                    break\n            }\n        })\n  };\n\n  resetCart = async () => {\n    this.componentDidMount()\n  }\n  render() {\n      if(store.getState().lengthCart===0){\n        return <Redirect to={{ pathname: \"/cart\" }} />;\n      }\n      if(this.props.isLoading){\n          return (\n          <div >\n            <body style={{paddingTop:'200px'}}>\n            <div className='container'>\n              <div className='row'>\n                <div className='col-md-5'>\n                </div>\n                <div className='col-md-2'>\n                  <div class=\"loader\"></div>\n                </div>\n                <div className='col-md-5'>\n                </div>\n              </div>\n              \n            </div>\n          </body>\n          </div>\n          )\n        }\n      if(store.getState().bookEmptyStock.length>0){\n        return(\n          <div tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n              <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                  <div class=\"modal-content\">\n                  <div class=\"modal-header\" style={{backgroundColor:'teal', color:'white'}}>\n                      <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Stok buku ini tidak mencukupi.</h5>\n                      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span onClick={this.resetCart} aria-hidden=\"true\">&times;</span>\n                      </button>\n                  </div>\n                  {store.getState().bookEmptyStock.map((item,i)=>\n                  <div class=\"modal-body\">\n                      {i+1}. {item}\n                  </div>\n                  )}\n                  </div>\n              </div>\n          </div>\n        )\n      }\n      return (\n          <div>\n              <div className='container top-body-cart5'>\n                  <div className='col-md-12' style={{ backgroundColor: 'aliceblue', borderRadius: '5%', marginBottom:'250px' }}>\n                      <div className='row' style={{ paddingTop:'25px', paddingLeft: '23px', paddingRight: '23px'}} >\n                          <div className='col-md-6'>Subtotal</div>\n                          <div className='col-md-6'>Rp {this.props.totalPrice}</div>\n                      </div>\n                      <div className='row'>\n                          <div className='col-md-12' style={{ paddingTop:'55px', marginBottom: '25px'}}>\n                              <label><Link to='/expedition'>\n                                  <button type=\"button\" class=\"btn btn-success\" disabled={this.props.disable}>Lanjutkan Pembelian</button></Link>\n                              </label>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      )\n  }\n}\n\nexport default connect(\"carts, totalPrice, token, isLoading, disable\",actions)(withRouter(CartDetailTotalPrice));"]},"metadata":{},"sourceType":"module"}