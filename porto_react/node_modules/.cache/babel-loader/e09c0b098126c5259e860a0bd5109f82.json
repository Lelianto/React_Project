{"ast":null,"code":"var _jsxFileName = \"/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetails.jsx\";\nimport React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport emptylogo from '../images/empty.jpg';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { store, actions } from '../store';\nimport axios from 'axios';\nconst perulangan = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];\n\nclass CartDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.goToBook = async book_id => {\n      store.setState({\n        'book_id': book_id\n      });\n      this.props.history.push(\"/bookdetail/\" + store.getState().book_id);\n    };\n\n    this.getAllCart = () => {\n      const req = {\n        method: \"get\",\n        url: \"http://0.0.0.0:1250/cart/allcart\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      const self = this;\n      axios(req).then(function (response) {\n        store.setState({\n          carts: response.data,\n          isLoading: false,\n          'cart_content': true\n        });\n        return response;\n      }).catch(error => {\n        store.setState({\n          isLoading: false\n        });\n\n        switch (error.response.status) {\n          case 401:\n            self.props.history.push('/401');\n            break;\n\n          case 403:\n            self.props.history.push('/403');\n            break;\n\n          case 404:\n            self.props.history.push('/404');\n            break;\n\n          case 422:\n            self.props.history.push('/login');\n            break;\n\n          case 500:\n            self.props.history.push('/500');\n            break;\n\n          default:\n            break;\n        }\n      });\n    };\n\n    this.doDeleteCart = async e => {\n      store.setState({\n        'cart_id': e,\n        \"disable\": true\n      });\n      await this.props.deleteCartItem();\n\n      if (store.getState().length_cart > 0) {\n        this.getAllCart();\n        this.props.history.push(\"/cart\");\n      }\n    };\n\n    this.doTotalPrice = async () => {\n      await this.props.updateBuy();\n      await this.props.Calculate();\n\n      if (localStorage.getItem('token') !== null) {\n        this.getAllCart();\n        this.props.history.push(\"/cart\");\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.getAllCart();\n    };\n  }\n\n  render() {\n    const carts = this.props.carts;\n    const listInCart = carts.filter(item => {\n      if (item.email === localStorage.getItem('email') && item.foto_buku !== null && item.judul !== null && item.harga !== null && item.status_cart === false && item.berat !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    store.setState({\n      'length_cart': listInCart.length\n    });\n\n    if (listInCart.length < 1) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container top-body-cart4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          paddingBottom: '80px',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: '70%'\n        },\n        src: emptylogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Aku kosong...\"), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Isi aku dengan buku-buku favoritmu...\")))));\n    } else if (this.props.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"body\", {\n        className: \"top-body-cart3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container top-body-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, listInCart.map((content, i) => React.createElement(\"div\", {\n      className: \"cart-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 cart-book-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: '100%'\n      },\n      src: content.foto_buku,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-5 col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Link, {\n      style: {\n        textDecoration: 'none',\n        color: 'black'\n      },\n      onClick: event => this.goToBook(content.book_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12  col-4 detail-book-cart1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, content.judul))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12 detail-book-cart2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, content.penulis)), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12 detail-book-cart3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, content.jenis_cover)), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12 detail-book-cart4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Rp \", content.harga))), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: '12px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Telah Ditambahkan\"), React.createElement(\"div\", {\n      style: {\n        fontSize: '20px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, content.stok, \" Buku\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleFormControlSelect1\",\n      style: {\n        paddingTop: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Pembarui Jumlah\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      id: content.id,\n      name: \"stok\",\n      onChange: e => this.props.changeInputCart(e),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, perulangan.map((total, i) => React.createElement(\"option\", {\n      id: content.id,\n      value: total,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, total)))), React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => this.doDeleteCart(content.id),\n      style: {\n        fontSize: '11px',\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Hapus dari Keranjang\"))), React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      style: {\n        paddingTop: '25px',\n        marginBottom: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-success\",\n      onClick: this.doTotalPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Finalisasi Jumlah Beli\"))))))));\n  }\n\n}\n\nexport default connect(\"carts, token, is_login, isLoading\", actions)(withRouter(CartDetail));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetails.jsx"],"names":["React","emptylogo","withRouter","Link","connect","store","actions","axios","perulangan","CartDetail","Component","goToBook","book_id","setState","props","history","push","getState","getAllCart","req","method","url","headers","Authorization","localStorage","getItem","self","then","response","carts","data","isLoading","catch","error","status","doDeleteCart","e","deleteCartItem","length_cart","doTotalPrice","updateBuy","Calculate","componentDidMount","render","listInCart","filter","item","email","foto_buku","judul","harga","status_cart","berat","length","paddingBottom","textAlign","width","preventDefault","map","content","i","textDecoration","color","event","penulis","jenis_cover","fontSize","fontWeight","stok","paddingTop","id","changeInputCart","total","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport emptylogo from '../images/empty.jpg'\nimport { withRouter, Link} from 'react-router-dom'\nimport { connect } from 'unistore/react'\nimport { store, actions } from '../store'\nimport axios from 'axios'\n\nconst perulangan = ['1','2','3','4','5','6','7','8','9','10']\n\nclass CartDetail extends React.Component {\n    // Function to go to book detail information\n    goToBook = async (book_id) => {\n        store.setState({ \n            'book_id': book_id\n        })\n        this.props.history.push(\"/bookdetail/\"+store.getState().book_id);\n        }\n\n    // Function to get all cart's content from database\n    getAllCart = ()=> {\n        const req = {\n            method: \"get\",\n            url: \"http://0.0.0.0:1250/cart/allcart\",\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem('token')\n            }\n            }; \n            const self = this\n            axios(req)\n                .then(function (response) {\n                    store.setState({ \n                        carts: response.data, \n                        isLoading:false,\n                        'cart_content':true \n                    })\n                    return response\n                })\n                .catch((error)=>{\n                    store.setState({ isLoading: false})\n                    switch (error.response.status) {\n                        case 401 :\n                            self.props.history.push('/401')\n                            break\n                        case 403 :\n                            self.props.history.push('/403')\n                            break\n                        case 404 :\n                            self.props.history.push('/404')\n                            break\n                        case 422 :\n                            self.props.history.push('/login')\n                            break\n                        case 500 :\n                            self.props.history.push('/500')\n                            break\n                        default :\n                            break\n                    }\n                })\n    }\n\n    // Function to delete product in cart by ID (from database)\n    doDeleteCart = async (e) => {\n        store.setState({\n            'cart_id': e,\n            \"disable\" : true\n        })\n        await this.props.deleteCartItem()\n        if (store.getState().length_cart>0){\n            this.getAllCart()\n            this.props.history.push(\"/cart\");\n        }\n    }\n\n    // Function to get total price and display it into cart price\n    doTotalPrice = async () => {\n        await this.props.updateBuy()\n        await this.props.Calculate()\n        if (localStorage.getItem('token') !== null){\n            this.getAllCart()\n            this.props.history.push(\"/cart\");\n        }\n    }\n\n    // Function to execute getAllCart\n    componentDidMount = () => {\n        this.getAllCart()\n    };\n\n    render() {\n        const { carts } = this.props\n        const listInCart = carts.filter(item => {\n            if (item.email === localStorage.getItem('email') && item.foto_buku !== null && item.judul !== null && item.harga !== null && item.status_cart === false && item.berat !== null) {\n                return item;\n            }\n            return false\n        })\n        store.setState({\n            'length_cart':listInCart.length\n        })\n        if(listInCart.length<1){\n            return (\n                <div>\n                    <div className='container top-body-cart4'>\n                        <div className='row' style={{ paddingBottom:'80px', textAlign:'center'}}>\n                            <div className='col-md-6'>\n                            </div>\n                            <div className='col-md-6'>\n                                <img style={{width:'70%'}} src={emptylogo} alt=\"\"/>\n                                <h3>\n                                    Aku kosong...\n                                </h3>\n                                <h6>\n                                    Isi aku dengan buku-buku favoritmu...\n                                </h6> \n                            </div>\n                            {/* <div className='col-md-2'>\n                            </div> */}\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n        else if(this.props.isLoading){\n            return (\n            <div>\n              <body className='top-body-cart3'>\n              <div className='container'>\n                <div className='row'>\n                  <div className='col-md-5'>\n                  </div>\n                  <div className='col-md-2'>\n                    <div class=\"loader\"></div>\n                  </div>\n                  <div className='col-md-5'>\n                  </div>\n                </div>\n               \n              </div>\n            </body>\n            </div>\n            )\n          }\n        return (\n            <div>\n                <div className='container top-body-cart'>\n                    <div className='row'>\n                        <form onSubmit={e => e.preventDefault()}>\n                        {listInCart.map((content,i)=>\n                        <div className='cart-body'>\n                            <div className='col-12 cart-book-detail'>\n                                <div className='col-sm-3'>\n                                    <img style={{width:'100%'}} src={content.foto_buku}/>\n                                </div>\n                                <div className='col-sm-5 col-8'>\n                                    <div className='row'><Link style={{textDecoration:'none', color:'black'}} onClick={event => this.goToBook(content.book_id)}>\n                                        <div className='col-sm-12  col-4 detail-book-cart1'>\n                                            {content.judul}\n                                        </div></Link>\n                                    </div>\n                                    <div className='row'>\n                                        <div className='col-sm-12 detail-book-cart2'>\n                                            {content.penulis}\n                                        </div>\n                                    </div>\n                                    <div className='row'>\n                                        <div className='col-sm-12 detail-book-cart3'>\n                                            {content.jenis_cover}\n                                        </div>\n                                    </div>\n                                    <div className='row'>\n                                        <div className='col-sm-12 detail-book-cart4'>\n                                            Rp {content.harga}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className='col-sm-3' style={{fontSize:'15px'}}>\n                                    <div style={{fontSize:'12px'}}>\n                                        Telah Ditambahkan\n                                    </div>\n                                    <div style={{fontSize:'20px', fontWeight:'bold'}}>\n                                        {content.stok} Buku\n                                    </div>\n                                    <div>\n                                        <label for=\"exampleFormControlSelect1\" style={{paddingTop:'40px'}}>Pembarui Jumlah</label>\n                                        <select class=\"form-control\" id={content.id} name='stok' onChange={e => this.props.changeInputCart(e)}required>\n                                            {perulangan.map((total,i) =>\n                                            <option id={content.id}  value={total}>{total}</option>\n                                            )}\n                                        </select>\n                                    </div>\n                                    <button className='btn' onClick={()=>this.doDeleteCart(content.id)} style={{fontSize:'11px', marginTop:'20px'}}>\n                                        Hapus dari Keranjang\n                                    </button>\n                                </div>\n                            </div>\n                            <div className='col-md-1'>\n                            </div>\n                        </div>\n                        )}\n                        <div>\n                            <div className='col-md-12' style={{ paddingTop:'25px', marginBottom: '25px'}}>\n                                <label>\n                                    <button type=\"button\" class=\"btn btn-success\" onClick={this.doTotalPrice}>Finalisasi Jumlah Beli</button>\n                                </label>\n                            </div>\n                        </div>\n                    </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(\"carts, token, is_login, isLoading\",actions)(withRouter(CartDetail));"]},"metadata":{},"sourceType":"module"}